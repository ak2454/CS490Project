{"ast":null,"code":"import _slicedToArray from\"/root/Test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./Njitlogo.png';import LoginForm from\"./LoginForm\";import React,{useState}from\"react\";import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require('axios');export default function Login(){var adminUser={username:\"admin\",password:\"admin123\"};var _useState=useState({username:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var Login=function Login(details){/*}\n        Need to change if conditions to response in database\n        */var inputEmail=details.username;var inputPassword=details.password;axios.get('http://18.191.4.18:3001/users').then(function(response){console.log(response[\"data\"]);for(var i=0;i<response[\"data\"].length;i++){if(response[\"data\"][i][\"email\"]==inputEmail&&response[\"data\"][i][\"password\"]==inputPassword){setUser({username:details.name});}else{setError(\"Invalid Email or Password.\");}}});};var Logout=function Logout(){console.log(\"Logout\");setUser({username:\"\"});};return/*#__PURE__*/_jsx(\"div\",{className:\"Login\",children:user.username!==\"\"?/*#__PURE__*/_jsxs(\"div\",{className:\"welcome\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",/*#__PURE__*/_jsx(\"span\",{children:user.username})]}),/*#__PURE__*/_jsx(\"button\",{onClick:Logout,children:\"Logout\"})]}):/*#__PURE__*/_jsx(LoginForm,{Login:Login,error:error})});}","map":{"version":3,"sources":["/root/Test/src/App.js"],"names":["LoginForm","React","useState","axios","require","Login","adminUser","username","password","user","setUser","error","setError","details","inputEmail","inputPassword","get","then","response","console","log","i","length","name","Logout"],"mappings":"iIAAA,MAAO,gBAAP,CACA,MAAOA,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,aAAP,C,wFAEA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAArB,CACA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAE5B,GAAOC,CAAAA,SAAS,CAAG,CACfC,QAAQ,CAAE,OADK,CAEfC,QAAQ,CAAE,UAFK,CAAnB,CAKA,cAAyBN,QAAQ,CAAC,CAACK,QAAQ,CAAE,EAAX,CAAD,CAAjC,wCAAQE,IAAR,eAAcC,OAAd,eACA,eAA0BR,QAAQ,CAAC,EAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eAGA,GAAMP,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAQ,OAAO,CAAI,CACrB;AACR;AACA,UACQ,GAAMC,CAAAA,UAAU,CAAGD,OAAO,CAACN,QAA3B,CACA,GAAMQ,CAAAA,aAAa,CAAGF,OAAO,CAACL,QAA9B,CAEAL,KAAK,CAACa,GAAN,CAAU,+BAAV,EACCC,IADD,CACM,SAAUC,QAAV,CAAoB,CACtBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAAC,MAAD,CAApB,EACA,IAAK,GAAIG,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAEH,QAAQ,CAAC,MAAD,CAAR,CAAiBI,MAApC,CAA4CD,CAAC,EAA7C,CAAiD,CAC7C,GAAIH,QAAQ,CAAC,MAAD,CAAR,CAAiBG,CAAjB,EAAoB,OAApB,GAAgCP,UAAhC,EAA8CI,QAAQ,CAAC,MAAD,CAAR,CAAiBG,CAAjB,EAAoB,UAApB,GAAmCN,aAArF,CAAoG,CAChGL,OAAO,CAAC,CACZH,QAAQ,CAAEM,OAAO,CAACU,IADN,CAAD,CAAP,CAGH,CAJD,IAIK,CACDX,QAAQ,CAAC,4BAAD,CAAR,CACH,CACJ,CACJ,CAZD,EAaH,CApBD,CA0BI,GAAMY,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACrBL,OAAO,CAACC,GAAR,CAAY,QAAZ,EACAV,OAAO,CAAC,CAACH,QAAQ,CAAE,EAAX,CAAD,CAAP,CAEC,CAJD,CAKJ,mBACI,YAAK,SAAS,CAAE,OAAhB,UACME,IAAI,CAACF,QAAL,GAAkB,EAAnB,cACG,aAAK,SAAS,CAAE,SAAhB,wBACI,+CAAa,sBAAOE,IAAI,CAACF,QAAZ,EAAb,GADJ,cAEI,eAAQ,OAAO,CAAEiB,MAAjB,oBAFJ,GADH,cAMG,KAAC,SAAD,EAAW,KAAK,CAAEnB,KAAlB,CAAyB,KAAK,CAAEM,KAAhC,EAPR,EADJ,CAaE","sourcesContent":["import './Njitlogo.png'\nimport LoginForm from \"./LoginForm\";\nimport React, {useState} from \"react\";\nimport './index.css';\n\nconst axios = require('axios');\nexport default function Login() {\n\n    const  adminUser = {\n        username: \"admin\",\n        password: \"admin123\"\n    }\n\n    const [ user, setUser] = useState({username: \"\" })\n    const [error, setError] = useState(\"\")\n\n\n    const Login = details => {\n        /*}\n        Need to change if conditions to response in database\n        */\n        const inputEmail = details.username;\n        const inputPassword = details.password;\n\n        axios.get('http://18.191.4.18:3001/users')\n        .then(function (response) {\n            console.log(response[\"data\"]);\n            for (let i = 0; i< response[\"data\"].length; i++) {\n                if (response[\"data\"][i][\"email\"] == inputEmail && response[\"data\"][i][\"password\"] == inputPassword) {\n                    setUser({\n              \t\tusername: details.name,\n            \t    })\n                }else{\n                    setError(\"Invalid Email or Password.\")\n                }\n            }\n        });\n    }\n\n      \n        \n\n\n        const Logout = () => {\n        console.log(\"Logout\");\n        setUser({username: \"\"})\n\n        }\n    return (\n        <div className= \"Login\">\n            {(user.username !== \"\") ? (\n                <div className={\"welcome\"}>\n                    <h2>Welcome, <span>{user.username}</span></h2>\n                    <button onClick={Logout}>Logout</button>\n                </div>\n            ):(\n                <LoginForm Login={Login} error={error}/>\n\n            )}\n        </div>\n\n    )}\n"]},"metadata":{},"sourceType":"module"}